1.servlet
    åŠ¨æ€çš„webå¼€å‘æŠ€æœ¯ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç±»ï¼Œè¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„javaå°ç¨‹åº
    å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼ˆä»£ç ï¼‰ï¼Œç”ŸæˆåŠ¨æ€çš„webå†…å®¹
    ç”¨äºæ¥æ”¶å’Œå“åº”å®¢æˆ·ç«¯çš„httpè¯·æ±‚
    å½“ç„¶ï¼Œé™æ€èµ„æºä¹Ÿéœ€è¦ç”¨åˆ°servletï¼Œä¸è¿‡æ˜¯tomcaté‡Œé¢å·²ç»å®šä¹‰äº†ä¸€ä¸ªDefaultServlet
2.ç¼–å†™servletçš„æ­¥éª¤
    ç¼–å†™ä¸€ä¸ªç±»
        ç»§æ‰¿HttpServlet
        é‡å†™doGetæˆ–è€…doPostæ–¹æ³•
    ç¼–å†™é…ç½®æ–‡ä»¶(WEB-INF/web.xml)
        æ³¨å†Œservlet
            <!--æ³¨å†Œservlet  ä½¿ç”¨servletæ ‡ç­¾
                servlet-name  ç»™servletèµ·ä¸ªåå­—
                servlet-class å­˜servletçš„å…¨é™å®šå-->
        ç»‘å®šè·¯å¾„ï¼ˆè·¯å¾„å’Œç±»äº§ç”Ÿå…³è”ï¼‰
            <!--ç»‘å®šservlet  ä½¿ç”¨servlet-mappingæ ‡ç­¾
            servlet-name  ä¸servletåå­—ä¸€æ ·
            url-pattern è®¿é—®è·¯å¾„è¦æ±‚ å¿…é¡»ä»¥ / å¼€å¤´-->
            è¿™é‡Œçš„è·¯å¾„å¯ä»¥ç”¨é€šé…ç¬¦  /*ï¼Œè·¯å¾„è¾“å…¥å•¥éƒ½è¡Œ
            ä¾‹å¦‚ a/*,åˆ™è®¿é—®çš„æ—¶å€™a/asadf/asdfï¼Œa/23réƒ½å¯ä»¥è®¿é—®
            æˆ–è€…ä»¥æ‰©å±•ååŒ¹é…  å†™æ³• *.class
    è®¿é—®
        http://ä¸»æœº:ç«¯å£å·/é¡¹ç›®å/è·¯å¾„
3.æ¥æ”¶å‚æ•° request
    æ ¼å¼ key=value
     String value=request.getParameter("nameå±æ€§å€¼")

     å¦‚æœè·¯å¾„æ˜¯
        http://localhost/day09/hello?username=tom
        é‚£ä¹ˆç”¨request.getParameter("username")å°±å¯ä»¥è·å–å€¼ä¸ºtom
        è¿™ä¸ªrequestå°±æ˜¯doGetæ–¹æ³•çš„å‚æ•° HttpServletRequest req

4.å›å†™å†…å®¹ response
    è¿™ä¸ªresponseå°±æ˜¯doGetæ–¹æ³•çš„å‚æ•° HttpServletResponse resp
    response.getWriter().print();
    ä½†æ˜¯ä¸­æ–‡ä¼šä¹±ç ï¼ˆå»ºè®®æ”¾åœ¨doGetæ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼‰
        resp.setContentType("text/html;charset=utf-8");


5.servletç”Ÿå‘½å‘¨æœŸ
    ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šä»åˆ›å»ºåˆ°é”€æ¯ï¼Œæ‰€è°ƒç”¨çš„é‚£äº›æ–¹æ³•
        æ„é€ servletï¼Œç„¶åä½¿ç”¨initæ–¹æ³•å°†å…¶åˆå§‹åŒ–ï¼ˆå¼€å¯æœåŠ¡å™¨åçš„åˆæ¬¡è®¿é—®ä¼šæ‰§è¡Œï¼‰
        å¤„ç†æ¥è‡ªå®¢æˆ·ç«¯å¯¹serviceæ–¹æ³•çš„æ‰€æœ‰è°ƒç”¨ ï¼ˆæ¯æ¬¡è¯·æ±‚éƒ½è°ƒç”¨ï¼‰
        ä»æœåŠ¡å™¨å–å‡ºservletï¼Œç„¶åç”¨destroyæ–¹æ³•é”€æ¯ä»–ï¼Œæœ€åè¿›è¡Œåƒåœ¾å›æ”¶å¹¶ç»ˆæ­¢ï¼ˆè¯¥é¡¹ç›®ä»æœåŠ¡å™¨ç§»é™¤
            æˆ–ç”¨tomcatçš„shutdownæ–¹æ³•)

    åˆå§‹åŒ–æå‰ load-on-startup
        åœ¨servletæ ‡ç­¾ä¸­æ·»åŠ <load-on-startup>æ•°å­—è¶Šå°è¶Šå…ˆæ‰§è¡Œ</load-on-startup>
        å¦‚æœæ•°å­—ç›¸åŒï¼Œç”±tomcatè‡ªå·±é€‰æ‹©ï¼Œä¸€èˆ¬å†™æ­£æ•°ï¼Œä»2å¼€å§‹å³å¯ã€‚
        å› ä¸º1ç”±default servletå ç”¨äº†

6.ServletConfig
    servletçš„é…ç½®ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼Œå¯ä»¥è·å–servletåœ¨é…ç½®çš„æ—¶å€™çš„ä¸€äº›ä¿¡æ¯

    â‘ è·å–å¯¹è±¡
        ServletConfig servletConfig=getServletConfig();
    â‘¡æ–¹æ³•
        getServletName() å¾—åˆ°çš„æ˜¯web.xmlæ–‡ä»¶ä¸­çš„å¯¹åº”servlet-nameæ ‡ç­¾ä¸­çš„å†…å®¹

        servletæ ‡ç­¾ä¸‹å¯ä»¥æ·»åŠ å‚æ•°
            <init-param>
                <param-name>address</param-name>
                <param-value>beijing</param>
            </init-param>
        ç„¶åå¯ä»¥ç”¨getInitParameter("param-name")å°±å¯ä»¥è·å–param-valueçš„å€¼

        getInitParameterNames()æ‹¿åˆ°æ‰€æœ‰param-nameï¼Œè¿”å›Stringçš„æšä¸¾
        éå†çš„è¯ï¼Œ
            while(æšä¸¾.hasMoreElements()){
            String name=(String)æšä¸¾.nextElement();
            }

    ä½œç”¨ï¼šæœªæ¥æˆ‘ä»¬è‡ªå·±å¼€å‘ä¸€äº›åº”ç”¨ï¼Œä½¿ç”¨åˆ°äº†ä¸€äº›æŠ€æœ¯æˆ–è€…ä¸€äº›ä»£ç ï¼Œæˆ‘ä»¬ä¸å›ï¼Œä½†æ˜¯æœ‰äººå†™å‡º
    æ¥äº†ï¼Œå¥¹çš„ä»£ç æ”¾ç½®åœ¨äº†è‡ªå·±çš„servletç±»é‡Œé¢ã€‚

    åˆšå¥½è¿™ä¸ªservleté‡Œé¢éœ€è¦æ·»åŠ ä¸€ä¸ªæ•°å­—æˆ–è€…å«åšå˜é‡å€¼ï¼Œä½†æ˜¯è¿™ä¸ªå€¼ä¸èƒ½æ˜¯å›ºå®šçš„ã€‚

    æ‰€ä»¥è¦æ±‚ä½¿ç”¨åˆ°è¿™ä¸ªservletçš„å…¬å¸ï¼Œåœ¨æ³¨å†Œservletçš„æ—¶å€™ï¼Œå¿…é¡»è¦åœ¨web.xmlé‡Œé¢
    å£°æ˜init-params

7.servletContext
    Servletä¸Šä¸‹æ–‡
    ä¸€ä¸ªjavaWebé¡¹ç›®æ¯å°javaè™šæ‹Ÿæœºä»…æœ‰ä¸€ä¸ªservletContext

    è·å–æ–¹æ³•ï¼š getServletContext() ä¸ç®¡åœ¨å“ªä¸ªç±»ä¸­è·å–ï¼Œå¾—åˆ°çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡

    å¸¸ç”¨æ–¹æ³•ï¼š


    â‘ String getInitParameter("name")
            æ‹¿åˆ°çš„æ˜¯å…¨å±€å‚æ•°ï¼Œæ˜¯ç›´æ¥åœ¨web-appä¸‹å£°æ˜çš„<init-param>æ˜¯å…¨å±€å˜é‡,
            è€ŒservletConfigè·å–çš„æ˜¯æ¯ä¸ªservletçš„<context-param>(å†™æ³•åŒinit param)æ˜¯å±€éƒ¨å˜é‡


    â‘¡è·å–webåº”ç”¨ä¸­çš„èµ„æº
        åˆ›å»ºå±æ€§å¯¹è±¡
            Properties properties=new Properties();
        æŒ‡å®šè½½å…¥çš„æ•°æ®æº
            è¿™é‡Œä¸èƒ½ç”¨new InputStreamï¼Œè¿™ä¸ªä¼šæ‰¾ä¸åˆ°ç›¸åº”çš„è·¯å¾„
            çœŸæ­£çš„ç›¸å¯¹è·¯å¾„æ˜¯tomcaté‡Œé¢çš„binç›®å½•
            InputStream is=new FileInputStream(context.getRealPath(""));
            //è¿™ç§èµ„æºå¿…é¡»æ”¾åœ¨webæ–‡ä»¶å¤¹ä¸‹
            
            æˆ–è€…InputStream is=getResourceAsStream("path");
            properties.load(is);
        è·å–å±æ€§å€¼
            properties.getProperty("");

        æ–¹æ³•1ï¼šä»å·¥ç¨‹ç›®å½•å¼€å§‹
             Properties properties=new Properties();
             InputStream is=ServletContextDemo.class.getClassLoader()
                        .getResourceAsStream("pro.properties");
             properties.load(is);
        æ–¹æ³•2ï¼šè·å–webç›®å½•ä¸‹
             ServletContext servletContext=getServletContext();
             String path=servletContext.getRealPath("pro.properties");
             InputStream is=new FileInputStream(path);
             Properties pro=new Properties();
             pro.load(is);
        æ–¹æ³•3ï¼šè·å–webç›®å½•ä¸‹
             ServletContext servletContext=getServletContext();
             Properties properties=new Properties();
             InputStream is=servletContext.getResourceAsStream("pro.properties");
             properties.load(is);

    ğŸŒ‚.å­˜å–æ•°æ®
        ServletContext servletContext = getServletContext();
        Object obj = servletContext.getAttribute("count");
        int totalCount = 0;
        if (obj != null) {
              totalCount = (int) obj;
        }
        servletContext.setAttribute("count", totalCount + 1);

        actioné‡Œé¢å†™çš„æ˜¯url-patternæˆ–è€…http://sdfsfasfdsadcfvs
        è·å–æ•°æ®
            request.getParameter("name");è¿™ä¸ªnameæ˜¯è¡¨å•é‡Œé¢å†…å®¹çš„name
        å›å†™æ•°æ®
            response.getWriter().write("asfsdafdf");
            resp.setContentType("text/html;charset=utf-8");//é˜²æ­¢ä¹±ç 
        è·³è½¬é¡µé¢
            ç®€å†™ï¼šï¼ˆé‡å®šå‘ï¼‰
            response.sendRedirect("url");
            æˆ–è€…ï¼šï¼ˆè¯·æ±‚è½¬å‘ï¼‰
            request.getRequestDispatcher("url").forward(request,response);

            é‡å®šå‘å’Œè¯·æ±‚è½¬å‘çš„åŒºåˆ«ï¼š
                urlåœ°å€å‘ˆç°ä¸åŒï¼šé‡å®šå‘æ˜¾ç¤ºæœ€åçš„èµ„æºåœ°å€ï¼Œè¯·æ±‚è½¬å‘æ˜¾ç¤ºè¯·æ±‚servletåœ°å€

            response.setStatus(302);//é‡æ–°å®šä½çŠ¶æ€ç  ï¼Œå°±æ˜¯302
            response.setHeader("Location",urlæˆ–ç›¸å¯¹è·¯å¾„);

            response.setStatus(302);//é‡æ–°å®šä½çŠ¶æ€ç 
            response.setHeader("Location","http://localhost:8080/success.html");

        å¦‚æœæƒ³ç‚¹å‡»è¶…é“¾æ¥ç„¶åè¿›è¡Œè¯·æ±‚çš„è¯ï¼Œç›´æ¥åœ¨è¶…é“¾æ¥å†™servletçš„è·¯å¾„æˆ–è€…å†™url



        servletContextä½•æ—¶åˆ›å»ºï¼Ÿä½•æ—¶é”€æ¯?
        æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šä¸ºæ‰˜ç®¡çš„æ¯ä¸€ä¸ªwebåº”ç”¨ç¨‹åºï¼Œåˆ›å»ºä¸€ä¸ªServletContextå¯¹è±¡ã€‚
        ä»æœåŠ¡å™¨ç§»é™¤æ‰˜ç®¡æˆ–å…³é—­æœåŠ¡å™¨å°±ä¼šè¢«é”€æ¯

        ServletContextçš„ä½œç”¨èŒƒå›´
        åªè¦åœ¨è¿™ä¸ªé¡¹ç›®é‡Œé¢ï¼Œéƒ½å¯ä»¥
